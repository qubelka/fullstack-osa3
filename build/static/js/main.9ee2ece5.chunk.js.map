{"version":3,"sources":["components/InputField.js","components/Filter.js","components/Button.js","components/PersonForm.js","components/Person.js","components/Persons.js","services/persons.js","components/Notification.js","App.js","index.js"],"names":["InputField","id","value","type","onChange","children","htmlFor","Filter","filter","handleChange","setFilter","Button","handleClick","onClick","PersonForm","addNameAndNumber","newName","newNumber","setNewName","setNewNumber","onSubmit","Person","person","deletePerson","name","number","Persons","filteredPersons","style","listStyleType","padding","margin","map","key","url","returnData","request","then","response","data","axios","get","newPerson","post","delete","updatedPerson","put","Notification","message","className","App","useState","persons","setPersons","errorMessage","setErrorMessage","infoMessage","setInfoMessage","toLowerCase","includes","setFunction","event","target","setMessageWithTimeout","setMessage","msg","setTimeout","clearFields","useEffect","personService","personList","catch","error","updatePerson","window","confirm","returnedPerson","p","preventDefault","trim","length","concat","find","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.9ee2ece5.chunk.js","sourcesContent":["import React from \"react\";\n\nconst InputField = ({id, value, type='text', onChange, children}) =>\n    <div>\n        <label htmlFor={id}>{children}</label>&nbsp;\n        <input id={id} value={value} type={type} onChange={onChange} />\n    </div>\n\nexport default InputField","import React from \"react\";\nimport InputField from \"./InputField\";\n\nconst Filter = ({filter, handleChange, setFilter}) =>\n    <InputField id='filter' value={filter} onChange={handleChange(setFilter)}>\n        filter by name:\n    </InputField>\n\nexport default Filter","import React from \"react\";\n\nconst Button = ({type='submit', handleClick, children}) =>\n    <button type={type} onClick={handleClick}>{children}</button>\n\nexport default Button","import React from \"react\";\nimport InputField from \"./InputField\";\nimport Button from \"./Button\";\n\nconst PersonForm = ({addNameAndNumber, newName, newNumber, handleChange, setNewName, setNewNumber}) =>\n    <form onSubmit={addNameAndNumber}>\n        <InputField id='name' value={newName} onChange={handleChange(setNewName)}>\n            name:\n        </InputField>\n        <InputField id='number' value={newNumber} onChange={handleChange(setNewNumber)}>\n            number:\n        </InputField>\n        <Button type='submit'>add</Button>\n    </form>\n\nexport default PersonForm","import React from \"react\";\nimport Button from \"./Button\";\n\nconst Person = ({person, deletePerson}) =>\n    <li>\n        {person.name} &nbsp;\n        {person.number} &nbsp;\n        <Button handleClick={() => deletePerson(person)}>delete</Button>\n    </li>\n\nexport default Person","import React from \"react\";\nimport Person from \"./Person\";\n\nconst Persons = ({filteredPersons, deletePerson}) =>\n    <ul style={{listStyleType:'none', padding:0, margin:0}}>\n        {filteredPersons.map(person =>\n            <Person\n                key={person.name}\n                deletePerson={deletePerson}\n                person={person}\n            />\n        )}\n    </ul>\n\nexport default Persons","import axios from 'axios'\n\nconst url = '/api/persons'\n\nconst returnData = request => {\n    return request.then(response => response.data)\n}\n\nconst getAll = () => {\n    return returnData(axios.get(url))\n}\n\nconst create = newPerson => {\n    return returnData(axios.post(url, newPerson))\n}\n\nconst remove = id => {\n    return returnData(axios.delete(`${url}/${id}`))\n}\n\nconst update = (id, updatedPerson) => {\n    return returnData(axios.put(`${url}/${id}`, updatedPerson))\n}\n\nexport default { getAll, create, remove, update }","import React from \"react\";\n\nconst Notification = ({message, className}) => {\n    if (message === null) {\n        return null\n    }\n\n    return (\n        <div className={className}>\n            {message}\n        </div>\n    )\n}\n\nexport default Notification","import React, { useState, useEffect } from 'react'\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport Persons from './components/Persons'\nimport personService from './services/persons'\nimport Notification from \"./components/Notification\";\n\nconst App = () => {\n    const [persons, setPersons] = useState([])\n    const [newName, setNewName] = useState('')\n    const [newNumber, setNewNumber] = useState('')\n    const [filter, setFilter] = useState('')\n    const [errorMessage, setErrorMessage] = useState(null)\n    const [infoMessage, setInfoMessage] = useState(null)\n\n    const filteredPersons = persons.filter(person => person.name.toLowerCase().includes(filter.toLowerCase()))\n\n    const handleChange = (setFunction) => (event) => setFunction(event.target.value)\n\n    const setMessageWithTimeout = (setMessage, msg) => {\n        setMessage(msg)\n        setTimeout(() => {\n            setMessage(null)\n        }, 5000)\n    }\n\n    const clearFields = () => {\n        setNewName('')\n        setNewNumber('')\n    }\n\n    useEffect(() => {\n        personService\n            .getAll()\n            .then(personList => {\n                setPersons(personList)\n            })\n            .catch(error => {\n                setErrorMessage('Could not load the person list from the server')\n                setTimeout(() => {\n                    setErrorMessage(null)\n                }, 5000)\n            })\n    }, [])\n\n    const addNameAndNumber = (event) => {\n        event.preventDefault()\n        if (persons.filter(person => person.name.toLowerCase().trim() === {newName}.newName.toLowerCase().trim()).length === 0\n            && {newName}.newName\n            && {newNumber}.newNumber)\n        {\n            const newPerson = {\n                name: newName,\n                number: newNumber\n            }\n\n            personService\n                .create(newPerson)\n                .then(returnedPerson => {\n                    setMessageWithTimeout(setInfoMessage, `${returnedPerson.name} has been successfully added to the phonebook!`)\n                    setPersons(persons.concat(returnedPerson))\n                    clearFields()\n                })\n                .catch(error => {\n                    const msg = error.response.data.error || 'Something went wrong while trying to add a new person'\n                    setMessageWithTimeout(setErrorMessage, msg)\n                    clearFields()\n                })\n\n        } else if (!{newName}.newName || !{newNumber}.newNumber) {\n            setMessageWithTimeout(setErrorMessage, 'Name or phone number missing')\n        } else {\n            updatePerson(persons.find(person => person.name === {newName}.newName), {newNumber}.newNumber)\n        }\n    }\n\n    const deletePerson = person => {\n        if (window.confirm(`Delete ${person.name}?`)) {\n            personService\n                .remove(person.id)\n                .then(() => {\n                    setMessageWithTimeout(setInfoMessage, `${person.name} has been successfully removed from the phonebook!`)\n                    setPersons(persons.filter(p => p.id !== person.id))\n                })\n                .catch(error => {\n                    setMessageWithTimeout(setErrorMessage, `${person.name}'s contact information has been already removed from the server`)\n                    setPersons(persons.filter(p => p.id !== person.id))\n                })\n        }\n    }\n\n    const updatePerson = (person, newNumber) => {\n        if (window.confirm(`${person.name} has been already added to the phonebook, replace the old number with a new one?`)) {\n            const updatedPerson = {...person, number:newNumber}\n\n            personService\n                .update(person.id, updatedPerson)\n                .then(returnedPerson => {\n                    setMessageWithTimeout(setInfoMessage, 'Contact information has been successfully updated!')\n                    setPersons(persons.map(p => p.id === person.id ? returnedPerson : p))\n                    clearFields()\n                })\n                .catch(error => {\n                    const msg = error.response.data.error || 'Something went wrong while trying to update the contact information'\n                    setMessageWithTimeout(setErrorMessage, msg)\n                    clearFields()\n                })\n        }\n    }\n\n    return (\n        <div>\n            <h1>Phonebook</h1>\n            <Notification message={errorMessage} className='error' />\n            <Notification message={infoMessage} className='info' />\n            <Filter filter={filter} handleChange={handleChange} setFilter={setFilter}/>\n            <h2>Add new phone number</h2>\n            <PersonForm\n                addNameAndNumber={addNameAndNumber}\n                handleChange={handleChange}\n                newName={newName}\n                newNumber={newNumber}\n                setNewName={setNewName}\n                setNewNumber={setNewNumber}\n            />\n            <h2>Numbers</h2>\n            <Persons filteredPersons={filteredPersons} deletePerson={deletePerson} />\n        </div>\n    )\n}\n\nexport default App\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css'\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}